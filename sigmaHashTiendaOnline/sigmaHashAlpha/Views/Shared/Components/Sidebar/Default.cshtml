@using sigmaHashAlpha.Models.Architecture
@model List<Category>
<div class="ManagerSideBar ">
		<div class="expandbtnparent">
			<button class="sidebarexpandbtn">
				<i class="bi bi-list-ul"></i>
			</button>
		</div>
		<div class="ManagerMenu " >

			<ul style="margin-top: 30px;">
				<li ><a asp-controller="Schema" asp-action="Schema"><i class="bi bi-diagram-3"></i> Modificar Esquema</a></li>
@*				@if(User.IsInRole("Manager") || User.IsInRole("Administrator") || User.IsInRole("Assistant"))
				{*@
					<li id="CatCollapse" ><a data-toggle="" data-target="#demo"><i class="bi bi-motherboard"></i> Agregar Productos
						<div class="CategoryList">
							@foreach(var item in @Model)
							{
								<div><a asp-controller="Products" asp-action="ListEditor" asp-route-id="@item.CategoryId" class="col-12">@item.Name</a></div>
							}
						</div>	
					</a></li>

				@*}*@
@*				@if(User.IsInRole("Manager") || User.IsInRole("Administrator") || User.IsInRole("Assistant"))
				{*@
					<li><a asp-controller="Products" asp-action="ProductList"> <i class="bi bi-list-ul"></i>Listado</a></li>
				@*}*@
@*				@if(User.IsInRole("Manager") || User.IsInRole("Administrator") || User.IsInRole("Assistant"))
				{*@
					<li><a asp-controller="Stock" asp-action="Index"><i class="bi bi-box-seam"></i>Stock</a></li>
				@*}*@
@*				@if(User.IsInRole("Manager") || User.IsInRole("Administrator") || User.IsInRole("Assistant"))
				{*@
					<li><a asp-controller="Products" asp-action="ListEditor"><i class="bi bi-bag-check"></i>Ventas</a></li>
				@*}*@
@*				@if(User.IsInRole("Manager") || User.IsInRole("Administrator") || User.IsInRole("Assistant"))
				{*@
					<li><a asp-controller="Manager" asp-action="Reservations"><i class="bi bi-bag"></i>Reservas</a></li>
				@*}*@
@*				@if(User.IsInRole("Manager"))
				{*@
					<li><a asp-controller="Manager" asp-action="Admin"><i class="bi bi-person"></i>Admins</a></li>
				@*}*@
				<li><div ><i class="bi bi-bar-chart-line"></i>Statistics </div></li> 

			</ul>

		</div>


	</div>

<script type="text/javascript">
	var j = 0;
	var k = 2;
	$('#CatCollapse').click(function() {
        setTimeout(function() {
			$('#CatCollapse').css('pointer-events', 'none');

        }, 100);

        $(this).css('width', '530px');
        if (j % 2 == 0) {

			 if (k % 2 === 0) {
			     $('.ManagerSideBar').css('width', '280px');
						 $('.sidebarexpandbtn').css('width', '30px');
			     setTimeout(function() {
			         $('.ManagerSideBar').css('overflow', 'visible')
			     }, 300);
                 k++;
			 } //If sidebar is minimized, on add product press, expands sidebar first

            $('.CategoryList').css('max-width', '250px');
            $(this).css('background', '#1771ff');
			$(this).css('color', 'white');
            setTimeout(function() {
                $('.CategoryList').css('max-height', '900px');
            }, 400);

        }
        else 
		{
			
				$('.CategoryList').css('max-height', '0');
		
			setTimeout(function() {
				$('#CatCollapse').css('width', '280px');
            }, 600);
            setTimeout(function() {
                $('#CatCollapse').css('background-color', 'inherit');
                $('#CatCollapse').css('color', 'black');
                $('#CatCollapse').css('color', 'black');

            }, 700);
			
		}
        setTimeout(function() {
            j++;
            $('#CatCollapse').css('pointer-events', 'auto');
        }, 600);
	});


$('.expandbtnparent').click(function() {

    if (k % 2 === 0) {
        $('.ManagerSideBar').css('width', '280px');
			 $('.sidebarexpandbtn').css('width', '30px');
        setTimeout(function() {
            $('.ManagerSideBar').css('overflow', 'visible')
		
        }, 300);
    }
    else {

		$('.CategoryList').css('max-height', '0');
		

			$('#CatCollapse').css('color', 'black');
			$('#CatCollapse').css('width', '280px');
			$('#CatCollapse').css('background', 'inherit');
     

        $('.ManagerSideBar').css('width', '80px');
        $('.ManagerSideBar').css('overflow', 'hidden');
        $('.sidebarexpandbtn').css('width', '9px');
		 $('.sidebarexpandbtn').css('right', '31px');
	}
    k++;
});


</script>